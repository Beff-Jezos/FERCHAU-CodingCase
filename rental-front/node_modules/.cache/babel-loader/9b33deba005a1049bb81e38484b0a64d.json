{"ast":null,"code":"var _jsxFileName = \"C:\\\\rentalApp\\\\rental-front\\\\src\\\\components\\\\RentalForm.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst RentalForm = props => {\n  const [cars, setCars] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [rentalData, setRentalData] = useState({\n    // ### TODO: gleiches Spiel wie beim CustomerManager. Format an db-table anpassen! \n    carId: '',\n    customerId: '',\n    rentalStart: '',\n    rentalEnd: '',\n    mileage: ''\n  });\n  useEffect(() => {\n    fetchCars();\n    fetchCustomers();\n  }, []);\n  const fetchCars = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/cars');\n      setCars(response.data.filter(car => car.status === 'available'));\n    } catch (error) {\n      console.error('Fehler beim Laden der Autos:', error);\n    }\n  };\n  const fetchCustomers = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/customers');\n      setCustomers(response.data);\n    } catch (error) {\n      console.error('Fehler beim Laden der Kunden:', error);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setRentalData({\n      ...rentalData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log('Daten, die gesendet werden:', rentalData); // Hinzugefügt: Überprüfe die Daten im Frontend\n\n    try {\n      await axios.post('http://localhost:5000/rentals', rentalData);\n      alert('Vermietung erfolgreich angelegt!');\n      setRentalData({\n        customerId: '',\n        carId: '',\n        rentalStart: '',\n        // ### TODO: gleiches Spiel wie beim CustomerManager. Format an db-table anpassen! \n        rentalEnd: '',\n        mileage: ''\n      });\n      fetchCars(); // Aktualisiert die Liste der verfügbaren Autos\n    } catch (error) {\n      console.error('Fehler beim Anlegen der Vermietung:', error);\n    }\n  };\n  if (props.rentalFormActive) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, \"Vermietungsstatus anlegen\"), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Auto ausw\\xE4hlen:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"carId\",\n      value: rentalData.carId,\n      onChange: handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"Auto ausw\\xE4hlen\"), cars.map(car => /*#__PURE__*/React.createElement(\"option\", {\n      key: car.id,\n      value: car.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, car.brand, \" \", car.model, \" (\", car.licensePlate, \")\"))), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"Kunde ausw\\xE4hlen:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"customerId\",\n      value: rentalData.customerId,\n      onChange: handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"Kunde ausw\\xE4hlen\"), customers.map(customer => /*#__PURE__*/React.createElement(\"option\", {\n      key: customer.id,\n      value: customer.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, customer.name, \" (\", customer.email, \")\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \"Mietbeginn:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      name: \"rentalStart\",\n      value: rentalData.rentalStart,\n      onChange: handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, \"Voraussichtliches Mietende:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      name: \"rentalEnd\",\n      value: rentalData.rentalEnd,\n      onChange: handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, \"Aktueller Kilometerstand:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"mileage\",\n      value: rentalData.mileage,\n      onChange: handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, \"Vermietung anlegen\")));\n  }\n};\nexport default RentalForm;","map":{"version":3,"names":["React","useState","useEffect","axios","RentalForm","props","cars","setCars","customers","setCustomers","rentalData","setRentalData","carId","customerId","rentalStart","rentalEnd","mileage","fetchCars","fetchCustomers","response","get","data","filter","car","status","error","console","handleInputChange","e","name","value","target","handleSubmit","preventDefault","log","post","alert","rentalFormActive","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","map","key","id","brand","model","licensePlate","customer","email","type"],"sources":["C:/rentalApp/rental-front/src/components/RentalForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst RentalForm = (props) => {\r\n  const [cars, setCars] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [rentalData, setRentalData] = useState({ // ### TODO: gleiches Spiel wie beim CustomerManager. Format an db-table anpassen! \r\n    carId: '',\r\n    customerId: '',\r\n    rentalStart: '', \r\n    rentalEnd: '',\r\n    mileage: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchCars();\r\n    fetchCustomers();\r\n  }, []);\r\n\r\n  const fetchCars = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/cars');\r\n      setCars(response.data.filter(car => car.status === 'available'));\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Autos:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCustomers = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/customers');\r\n      setCustomers(response.data);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Kunden:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setRentalData({ ...rentalData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('Daten, die gesendet werden:', rentalData);  // Hinzugefügt: Überprüfe die Daten im Frontend\r\n\r\n    try {\r\n      await axios.post('http://localhost:5000/rentals', rentalData);\r\n      alert('Vermietung erfolgreich angelegt!');\r\n      setRentalData({\r\n        customerId: '',\r\n        carId: '',\r\n        rentalStart: '', // ### TODO: gleiches Spiel wie beim CustomerManager. Format an db-table anpassen! \r\n        rentalEnd: '',\r\n        mileage: ''\r\n      });\r\n      fetchCars(); // Aktualisiert die Liste der verfügbaren Autos\r\n    } catch (error) {\r\n      console.error('Fehler beim Anlegen der Vermietung:', error);\r\n    }\r\n  };\r\n\r\n if(props.rentalFormActive){\r\n    return (\r\n        <div>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n            <h2>Vermietungsstatus anlegen</h2>\r\n\r\n            <label>Auto auswählen:</label>\r\n            <select name=\"carId\" value={rentalData.carId} onChange={handleInputChange} required>\r\n            <option value=\"\">Auto auswählen</option>\r\n            {cars.map((car) => (\r\n                <option key={car.id} value={car.id}>\r\n                {car.brand} {car.model} ({car.licensePlate})\r\n                </option>\r\n            ))}\r\n            </select>\r\n\r\n            <label>Kunde auswählen:</label>\r\n            <select name=\"customerId\" value={rentalData.customerId} onChange={handleInputChange} required>\r\n            <option value=\"\">Kunde auswählen</option>\r\n            {customers.map((customer) => (\r\n                <option key={customer.id} value={customer.id}>\r\n                {customer.name} ({customer.email})\r\n                </option>\r\n            ))}\r\n            </select>\r\n            <br></br>\r\n            <label>Mietbeginn:</label>\r\n            <input type=\"date\" name=\"rentalStart\" value={rentalData.rentalStart} onChange={handleInputChange} required />\r\n\r\n            <label>Voraussichtliches Mietende:</label>\r\n            <input type=\"date\" name=\"rentalEnd\" value={rentalData.rentalEnd} onChange={handleInputChange} required />\r\n\r\n            <label>Aktueller Kilometerstand:</label>\r\n            <input type=\"number\" name=\"mileage\" value={rentalData.mileage} onChange={handleInputChange} required />\r\n\r\n            <button type=\"submit\">Vermietung anlegen</button>\r\n        </form>\r\n        </div>\r\n    );\r\n }\r\n};\r\n\r\nexport default RentalForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}