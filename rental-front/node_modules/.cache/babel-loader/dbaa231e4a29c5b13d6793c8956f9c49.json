{"ast":null,"code":"var _jsxFileName = \"C:\\\\rentalApp\\\\rental-front\\\\src\\\\components\\\\RentalForm.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst RentalForm = () => {\n  const [cars, setCars] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [rentalData, setRentalData] = useState({\n    carId: '',\n    customerId: '',\n    rentalStart: '',\n    rentalEnd: '',\n    mileage: ''\n  });\n  useEffect(() => {\n    fetchCars();\n    fetchCustomers();\n  }, []);\n  const fetchCars = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/cars');\n      setCars(response.data.filter(car => car.status === 'available'));\n    } catch (error) {\n      console.error('Fehler beim Laden der Autos:', error);\n    }\n  };\n  const fetchCustomers = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/customers');\n      setCustomers(response.data);\n    } catch (error) {\n      console.error('Fehler beim Laden der Kunden:', error);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setRentalData({\n      ...rentalData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log('Daten, die gesendet werden:', rentalData); // Hinzugefügt: Überprüfe die Daten im Frontend\n\n    try {\n      await axios.post('http://localhost:5000/rentals', rentalData);\n      alert('Vermietung erfolgreich angelegt!');\n      setRentalData({\n        carId: '',\n        customerId: '',\n        rentalStart: '',\n        rentalEnd: '',\n        mileage: ''\n      });\n      fetchCars(); // Aktualisiert die Liste der verfügbaren Autos\n    } catch (error) {\n      console.error('Fehler beim Anlegen der Vermietung:', error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Vermietungsstatus anlegen\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Auto ausw\\xE4hlen:\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"carId\",\n    value: rentalData.carId,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Auto ausw\\xE4hlen\"), cars.map(car => /*#__PURE__*/React.createElement(\"option\", {\n    key: car.id,\n    value: car.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, car.brand, \" \", car.model, \" (\", car.licensePlate, \")\"))), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"Kunde ausw\\xE4hlen:\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"customerId\",\n    value: rentalData.customerId,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Kunde ausw\\xE4hlen\"), customers.map(customer => /*#__PURE__*/React.createElement(\"option\", {\n    key: customer.id,\n    value: customer.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, customer.name, \" (\", customer.email, \")\"))), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Mietbeginn:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"rentalStart\",\n    value: rentalData.rentalStart,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Voraussichtliches Mietende:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"rentalEnd\",\n    value: rentalData.rentalEnd,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Aktueller Kilometerstand:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"mileage\",\n    value: rentalData.mileage,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Vermietung anlegen\")));\n};\nexport default RentalForm;","map":{"version":3,"names":["React","useState","useEffect","axios","RentalForm","cars","setCars","customers","setCustomers","rentalData","setRentalData","carId","customerId","rentalStart","rentalEnd","mileage","fetchCars","fetchCustomers","response","get","data","filter","car","status","error","console","handleInputChange","e","name","value","target","handleSubmit","preventDefault","log","post","alert","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","map","key","id","brand","model","licensePlate","customer","email","type"],"sources":["C:/rentalApp/rental-front/src/components/RentalForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst RentalForm = () => {\r\n  const [cars, setCars] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [rentalData, setRentalData] = useState({\r\n    carId: '',\r\n    customerId: '',\r\n    rentalStart: '',\r\n    rentalEnd: '',\r\n    mileage: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchCars();\r\n    fetchCustomers();\r\n  }, []);\r\n\r\n  const fetchCars = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/cars');\r\n      setCars(response.data.filter(car => car.status === 'available'));\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Autos:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCustomers = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/customers');\r\n      setCustomers(response.data);\r\n    } catch (error) {\r\n      console.error('Fehler beim Laden der Kunden:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setRentalData({ ...rentalData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('Daten, die gesendet werden:', rentalData);  // Hinzugefügt: Überprüfe die Daten im Frontend\r\n\r\n    try {\r\n      await axios.post('http://localhost:5000/rentals', rentalData);\r\n      alert('Vermietung erfolgreich angelegt!');\r\n      setRentalData({\r\n        carId: '',\r\n        customerId: '',\r\n        rentalStart: '',\r\n        rentalEnd: '',\r\n        mileage: ''\r\n      });\r\n      fetchCars(); // Aktualisiert die Liste der verfügbaren Autos\r\n    } catch (error) {\r\n      console.error('Fehler beim Anlegen der Vermietung:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Vermietungsstatus anlegen</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Auto auswählen:</label>\r\n        <select name=\"carId\" value={rentalData.carId} onChange={handleInputChange} required>\r\n          <option value=\"\">Auto auswählen</option>\r\n          {cars.map((car) => (\r\n            <option key={car.id} value={car.id}>\r\n              {car.brand} {car.model} ({car.licensePlate})\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <label>Kunde auswählen:</label>\r\n        <select name=\"customerId\" value={rentalData.customerId} onChange={handleInputChange} required>\r\n          <option value=\"\">Kunde auswählen</option>\r\n          {customers.map((customer) => (\r\n            <option key={customer.id} value={customer.id}>\r\n              {customer.name} ({customer.email})\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <label>Mietbeginn:</label>\r\n        <input type=\"date\" name=\"rentalStart\" value={rentalData.rentalStart} onChange={handleInputChange} required />\r\n\r\n        <label>Voraussichtliches Mietende:</label>\r\n        <input type=\"date\" name=\"rentalEnd\" value={rentalData.rentalEnd} onChange={handleInputChange} required />\r\n\r\n        <label>Aktueller Kilometerstand:</label>\r\n        <input type=\"number\" name=\"mileage\" value={rentalData.mileage} onChange={handleInputChange} required />\r\n\r\n        <button type=\"submit\">Vermietung anlegen</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RentalForm;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACQ,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC;IAC3CU,KAAK,EAAE,EAAE;IACTC,UAAU,EAAE,EAAE;IACdC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE,EAAE;IACbC,OAAO,EAAE;EACX,CAAC,CAAC;EAEFb,SAAS,CAAC,MAAM;IACdc,SAAS,CAAC,CAAC;IACXC,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMD,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,4BAA4B,CAAC;MAC9Db,OAAO,CAACY,QAAQ,CAACE,IAAI,CAACC,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,KAAK,WAAW,CAAC,CAAC;IAClE,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;EAED,MAAMP,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,iCAAiC,CAAC;MACnEX,YAAY,CAACU,QAAQ,CAACE,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD;EACF,CAAC;EAED,MAAME,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCpB,aAAa,CAAC;MAAE,GAAGD,UAAU;MAAE,CAACmB,IAAI,GAAGC;IAAM,CAAC,CAAC;EACjD,CAAC;EAED,MAAME,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAChCA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClBP,OAAO,CAACQ,GAAG,CAAC,6BAA6B,EAAExB,UAAU,CAAC,CAAC,CAAE;;IAEzD,IAAI;MACF,MAAMN,KAAK,CAAC+B,IAAI,CAAC,+BAA+B,EAAEzB,UAAU,CAAC;MAC7D0B,KAAK,CAAC,kCAAkC,CAAC;MACzCzB,aAAa,CAAC;QACZC,KAAK,EAAE,EAAE;QACTC,UAAU,EAAE,EAAE;QACdC,WAAW,EAAE,EAAE;QACfC,SAAS,EAAE,EAAE;QACbC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,SAAS,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;IAC7D;EACF,CAAC;EAED,oBACExB,KAAA,CAAAoC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE1C,KAAA,CAAAoC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,2BAA6B,CAAC,eAClC1C,KAAA,CAAAoC,aAAA;IAAMO,QAAQ,EAAEZ,YAAa;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3B1C,KAAA,CAAAoC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,oBAAsB,CAAC,eAC9B1C,KAAA,CAAAoC,aAAA;IAAQR,IAAI,EAAC,OAAO;IAACC,KAAK,EAAEpB,UAAU,CAACE,KAAM;IAACiC,QAAQ,EAAElB,iBAAkB;IAACmB,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjF1C,KAAA,CAAAoC,aAAA;IAAQP,KAAK,EAAC,EAAE;IAAAQ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,mBAAsB,CAAC,EACvCrC,IAAI,CAACyC,GAAG,CAAExB,GAAG,iBACZtB,KAAA,CAAAoC,aAAA;IAAQW,GAAG,EAAEzB,GAAG,CAAC0B,EAAG;IAACnB,KAAK,EAAEP,GAAG,CAAC0B,EAAG;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChCpB,GAAG,CAAC2B,KAAK,EAAC,GAAC,EAAC3B,GAAG,CAAC4B,KAAK,EAAC,IAAE,EAAC5B,GAAG,CAAC6B,YAAY,EAAC,GACrC,CACT,CACK,CAAC,eAETnD,KAAA,CAAAoC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,qBAAuB,CAAC,eAC/B1C,KAAA,CAAAoC,aAAA;IAAQR,IAAI,EAAC,YAAY;IAACC,KAAK,EAAEpB,UAAU,CAACG,UAAW;IAACgC,QAAQ,EAAElB,iBAAkB;IAACmB,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3F1C,KAAA,CAAAoC,aAAA;IAAQP,KAAK,EAAC,EAAE;IAAAQ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAAuB,CAAC,EACxCnC,SAAS,CAACuC,GAAG,CAAEM,QAAQ,iBACtBpD,KAAA,CAAAoC,aAAA;IAAQW,GAAG,EAAEK,QAAQ,CAACJ,EAAG;IAACnB,KAAK,EAAEuB,QAAQ,CAACJ,EAAG;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC1CU,QAAQ,CAACxB,IAAI,EAAC,IAAE,EAACwB,QAAQ,CAACC,KAAK,EAAC,GAC3B,CACT,CACK,CAAC,eAETrD,KAAA,CAAAoC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,aAAkB,CAAC,eAC1B1C,KAAA,CAAAoC,aAAA;IAAOkB,IAAI,EAAC,MAAM;IAAC1B,IAAI,EAAC,aAAa;IAACC,KAAK,EAAEpB,UAAU,CAACI,WAAY;IAAC+B,QAAQ,EAAElB,iBAAkB;IAACmB,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAE7G1C,KAAA,CAAAoC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,6BAAkC,CAAC,eAC1C1C,KAAA,CAAAoC,aAAA;IAAOkB,IAAI,EAAC,MAAM;IAAC1B,IAAI,EAAC,WAAW;IAACC,KAAK,EAAEpB,UAAU,CAACK,SAAU;IAAC8B,QAAQ,EAAElB,iBAAkB;IAACmB,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAEzG1C,KAAA,CAAAoC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,2BAAgC,CAAC,eACxC1C,KAAA,CAAAoC,aAAA;IAAOkB,IAAI,EAAC,QAAQ;IAAC1B,IAAI,EAAC,SAAS;IAACC,KAAK,EAAEpB,UAAU,CAACM,OAAQ;IAAC6B,QAAQ,EAAElB,iBAAkB;IAACmB,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAEvG1C,KAAA,CAAAoC,aAAA;IAAQkB,IAAI,EAAC,QAAQ;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAA0B,CAC5C,CACH,CAAC;AAEV,CAAC;AAED,eAAetC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}